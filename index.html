<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <title>KART BROS! - Ad-Free Module</title>
  <link rel="shortcut icon" href="TemplateData/favicon.ico">
  <link rel="stylesheet" href="TemplateData/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

  <script>
    // 1. KILLS AD NETWORKS IMMEDIATELY
    window.aiptag = { cmd: { display: [], player: [] } };
    window.isMsStart = false;
    
    // 2. FAKE AD FUNCTIONS (Tells the game the "ad" is over instantly)
    window.ShowVideo = function(unit) {
      console.log("Ad request intercepted and skipped.");
      completeVideoAd(false);
    };
    
    window.LoadVideo = function() { return; };

    function completeVideoAd(isBlocked) {
      if (typeof window.Main !== "undefined" && typeof window.Main.DoneVideoAd === "function") {
        window.Main.DoneVideoAd();
      }
    }

    // Layout Helper
    function fit() {
      document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
    }
    fit();
    addEventListener('resize', fit, { passive: true });
  </script>

  <style>
    html, body { margin: 0; padding: 0; background: #000; overflow: hidden; height: 100%; }
    .game-section { width: 100%; height: 100%; position: relative; }
    #unity-canvas { width: 100%; height: 100%; background: #000; display: block; }
    #unity-loading-bar { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; text-align: center; }
    /* Hide all potential ad containers just in case */
    #adContainerMainMenu, #adContainerTop, #adContainerBottom, #adContainerPillars, #videoAdOverlay { display: none !important; visibility: hidden !important; }
  </style>
</head>

<body>
  <div class="game-section">
    <canvas id="unity-canvas" tabindex="-1"></canvas>
    <div id="unity-loading-bar">
        <p>LOADING KART BROS (AD-FREE)...</p>
    </div>
  </div>

  <script src="Build/UnityLoader.js"></script>
  <script>
    // This part starts your specific game build
    // Ensure these file names match what is in your /Build folder
    var unityInstance = UnityLoader.instantiate("unity-canvas", "Build/kartbros.json");
  </script>
</body>
</html>
